<template>
    <tr class="settings-ignore-row" v-for="(ignoreItem, index) in data" :key="index">
        <td class="settings-ignore__data-table-text-left settings-ignore-row-td settings-ignore-w20" >{{formatedPhone(ignoreItem.phone)}}</td>
        <td class="settings-ignore__data-table-text-left settings-ignore-row-td settings-ignore-w60">
            <template v-if="ignoreItem.is_amocrm">
                <template v-if="ignoreItem.is_yclients||ignoreItem.is_mass_sending">AmoCRM, </template>
                <template v-else>AmoCRM</template>
            </template>
            <template v-if="ignoreItem.is_yclients"> 
                 <template v-if="ignoreItem.is_mass_sending">Yclients, </template>
                <template v-else>Yclients</template>
            </template>
            <template v-if="ignoreItem.is_mass_sending">Рассылки </template>
         </td>
        <td class="settings-ignore__data-table-text-right settings-ignore-row-td settings-ignore-w20">
            <div class="settings-ignore-row__buttons">
                <svg @click="edit(index)" class="settings-ignore-row__buttons-edit pointer" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.8619 6.18126C14.9869 6.05623 15.1565 5.986 15.3333 5.986C15.5101 5.986 15.6797 6.05623 15.8047 6.18126C15.9298 6.30628 16 6.47585 16 6.65266V10.8953C16.0011 11.3332 15.9153 11.7669 15.7477 12.1715C15.58 12.576 15.3338 12.9432 15.0233 13.252L13.2527 15.024C12.9438 15.3344 12.5764 15.5806 12.1717 15.7481C11.7671 15.9156 11.3333 16.0012 10.8953 16H3.33333C2.4496 15.9989 1.60237 15.6474 0.977479 15.0225C0.352588 14.3976 0.00105857 13.5504 0 12.6667V3.33333C0.00105857 2.4496 0.352588 1.60237 0.977479 0.977479C1.60237 0.352588 2.4496 0.00105857 3.33333 0H9.36133C9.53814 0 9.70771 0.0702379 9.83273 0.195262C9.95776 0.320286 10.028 0.489855 10.028 0.666666C10.028 0.843477 9.95776 1.01305 9.83273 1.13807C9.70771 1.26309 9.53814 1.33333 9.36133 1.33333H3.33333C2.8029 1.33333 2.29419 1.54405 1.91912 1.91912C1.54405 2.29419 1.33333 2.8029 1.33333 3.33333V12.6667C1.33333 13.1971 1.54405 13.7058 1.91912 14.0809C2.29419 14.4559 2.8029 14.6667 3.33333 14.6667H9.99999V12C9.99999 11.4696 10.2107 10.9609 10.5858 10.5858C10.9609 10.2107 11.4696 9.99999 12 9.99999H14.6667V6.65266C14.6667 6.47585 14.7369 6.30628 14.8619 6.18126ZM11.3333 14.6147C11.7031 14.5337 12.042 14.3487 12.31 14.0813L14.0833 12.3093C14.3493 12.0406 14.5342 11.7023 14.6167 11.3333H12C11.8232 11.3333 11.6536 11.4036 11.5286 11.5286C11.4036 11.6536 11.3333 11.8232 11.3333 12V14.6147ZM4.30761 8.74848L12.4356 0.620482C12.8318 0.241744 13.3588 0.0303819 13.9069 0.0303819C14.4551 0.0303819 14.9821 0.241744 15.3783 0.620482C15.7679 1.01103 15.9867 1.54016 15.9867 2.09181C15.9867 2.64346 15.7679 3.17259 15.3783 3.56315L7.25028 11.6911C6.94151 12.0016 6.57424 12.2477 6.16971 12.4152C5.76519 12.5827 5.33145 12.6684 4.89361 12.6671H3.99828C3.82147 12.6671 3.6519 12.5969 3.52687 12.4719C3.40185 12.3469 3.33161 12.1773 3.33161 12.0005V11.1051C3.33037 10.6673 3.416 10.2336 3.58353 9.82904C3.75106 9.42451 3.99717 9.05724 4.30761 8.74848ZM6.30761 10.7485L14.4356 2.62048C14.5756 2.48014 14.6542 2.29002 14.6542 2.09181C14.6542 1.89361 14.5756 1.70349 14.4356 1.56315C14.2932 1.42712 14.1039 1.35121 13.9069 1.35121C13.71 1.35121 13.5207 1.42712 13.3783 1.56315L5.25028 9.69114C4.87665 10.0671 4.66633 10.5751 4.66494 11.1051V11.3338H4.89361C5.42361 11.3324 5.93169 11.1221 6.30761 10.7485Z" fill="#CFCFE4"/>
                </svg>
                <svg class="pointer" @click="del(ignoreItem.phone)" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.3 2.66667H12.13C11.9675 1.91428 11.5377 1.23823 10.9129 0.752479C10.2881 0.266727 9.50654 0.000969683 8.7 0H7.3C6.49346 0.000969683 5.71192 0.266727 5.08712 0.752479C4.46233 1.23823 4.03247 1.91428 3.87 2.66667H1.7C1.51435 2.66667 1.3363 2.7369 1.20503 2.86193C1.07375 2.98695 1 3.15652 1 3.33333C1 3.51014 1.07375 3.67971 1.20503 3.80474C1.3363 3.92976 1.51435 4 1.7 4H2.4V12.6667C2.40111 13.5504 2.77022 14.3976 3.42635 15.0225C4.08249 15.6474 4.97208 15.9989 5.9 16H10.1C11.0279 15.9989 11.9175 15.6474 12.5736 15.0225C13.2298 14.3976 13.5989 13.5504 13.6 12.6667V4H14.3C14.4857 4 14.6637 3.92976 14.795 3.80474C14.9263 3.67971 15 3.51014 15 3.33333C15 3.15652 14.9263 2.98695 14.795 2.86193C14.6637 2.7369 14.4857 2.66667 14.3 2.66667ZM7.3 1.33333H8.7C9.13419 1.33384 9.55759 1.46225 9.91213 1.70096C10.2667 1.93967 10.535 2.27699 10.6803 2.66667H5.3197C5.46501 2.27699 5.73333 1.93967 6.08787 1.70096C6.44241 1.46225 6.86581 1.33384 7.3 1.33333ZM12.2 12.6667C12.2 13.1971 11.9788 13.7058 11.5849 14.0809C11.1911 14.456 10.657 14.6667 10.1 14.6667H5.9C5.34305 14.6667 4.8089 14.456 4.41508 14.0809C4.02125 13.7058 3.8 13.1971 3.8 12.6667V4H12.2V12.6667ZM6.60289 11.9999C6.78854 11.9999 6.96658 11.9297 7.09786 11.8047C7.22913 11.6797 7.30288 11.5101 7.30288 11.3333V7.33329C7.30288 7.15648 7.22913 6.98691 7.09786 6.86189C6.96658 6.73686 6.78854 6.66663 6.60289 6.66663C6.41723 6.66663 6.23919 6.73686 6.10791 6.86189C5.97664 6.98691 5.90289 7.15648 5.90289 7.33329V11.3333C5.90289 11.5101 5.97664 11.6797 6.10791 11.8047C6.23919 11.9297 6.41723 11.9999 6.60289 11.9999ZM9.8942 11.8047C9.76292 11.9297 9.58488 11.9999 9.39922 11.9999C9.21357 11.9999 9.03552 11.9297 8.90425 11.8047C8.77297 11.6797 8.69922 11.5101 8.69922 11.3333V7.33329C8.69922 7.15648 8.77297 6.98691 8.90425 6.86189C9.03552 6.73686 9.21357 6.66663 9.39922 6.66663C9.58488 6.66663 9.76292 6.73686 9.8942 6.86189C10.0255 6.98691 10.0992 7.15648 10.0992 7.33329V11.3333C10.0992 11.5101 10.0255 11.6797 9.8942 11.8047Z" fill="#EB5757"/>
                </svg>
            </div>
        </td>
    </tr>

</template>
<script>
import {ref, onMounted} from "vue"

export default {
    props:{
        data:Object,
        phones:Array,
        search:Array,
    },
    emits:["edit"],
    setup(props, {emit}) {
        const edit = (phone) => {
            emit("edit", )
            emit("getPhone", phone)
        }
        const del = (phone) => {
             emit("del" )
             emit("del", phone)
        }
        const arrNumber = ref();
            onMounted(()=>{
            })
        const formatedPhone = (number) => {
            let phone = number;
            if(phone.match(/^\d+$/)){
                let match = phone.match(/^(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})$/);
                const num ='+'+ match[1] + ' (' + match[2]+ ') '+ match[3] + '-'+ match[4]+ '-'+match[5];
                phone =num;
            }
            return phone;
            }
        return {
            edit,
            arrNumber,
            formatedPhone,
            del
        }
    },
}
</script>
<style lang="scss" src="./ignore.scss"></style>