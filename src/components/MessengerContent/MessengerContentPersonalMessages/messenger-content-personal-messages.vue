<template>
    <div class="messenger-content-personal-messages">
        <div class="messenger-content-personal-messages__header">
            <template v-if="selectedDialog">
                <BaseSquareIcon
                        :src="messages.avatar"
                ></BaseSquareIcon>
                <div class="messenger-content-personal-messages__name-container">
                    <div class="messenger-content-personal-messages__name">{{messages.name}}</div>
                    <div class="messenger-content-personal-messages__date">{{messages.is_online? 'В сети' : 'Не в сети'}}</div>
                </div>
            </template>
            <div class="settings-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.9998 7.54688C9.5443 7.54688 7.54663 9.54454 7.54663 12C7.54663 14.4554 9.5443 16.4531 11.9998 16.4531C14.4552 16.4531 16.4529 14.4554 16.4529 12C16.4529 9.54454 14.4552 7.54688 11.9998 7.54688ZM11.9998 15.0469C10.3197 15.0469 8.95288 13.68 8.95288 12C8.95288 10.3199 10.3197 8.95312 11.9998 8.95312C13.6798 8.95312 15.0466 10.3199 15.0466 12C15.0466 13.68 13.6798 15.0469 11.9998 15.0469Z" fill="#1D1D35"/>
                    <path d="M23.4348 9.77206L20.542 9.19362C20.4008 8.76373 20.2277 8.3457 20.0247 7.94403L21.661 5.49065C21.847 5.21188 21.8104 4.84063 21.5736 4.60354L19.3974 2.42634C19.1603 2.18925 18.7888 2.15259 18.51 2.33859L16.056 3.9757C15.6558 3.77306 15.2378 3.59981 14.8064 3.45773L14.2279 0.565171C14.1622 0.236578 13.8736 0 13.5384 0H10.4616C10.1264 0 9.8378 0.236578 9.77208 0.565218L9.19359 3.45777C8.76216 3.59985 8.34417 3.77306 7.944 3.97574L5.49 2.33864C5.21109 2.15259 4.83961 2.18929 4.60261 2.42639L2.42653 4.60354C2.18972 4.84058 2.15311 5.21183 2.33906 5.49065L3.97542 7.94403C3.77236 8.34575 3.59934 8.76373 3.45806 9.19362L0.565313 9.77206C0.236578 9.83778 0 10.1264 0 10.4615V13.5384C0 13.8736 0.236578 14.1622 0.565266 14.2279L3.45802 14.8063C3.5993 15.2362 3.77231 15.6542 3.97537 16.0559L2.33902 18.5093C2.15306 18.7881 2.18967 19.1593 2.42648 19.3964L4.60261 21.5736C4.8397 21.8107 5.21114 21.8474 5.49 21.6614L7.94405 20.0243C8.34422 20.2269 8.7622 20.4001 9.19364 20.5422L9.77217 23.4348C9.83789 23.7634 10.1265 24 10.4617 24H13.5385C13.8736 24 14.1622 23.7634 14.228 23.4348L14.8065 20.5422C15.2379 20.4001 15.6559 20.2269 16.0561 20.0243L18.5101 21.6614C18.789 21.8474 19.1605 21.8107 19.3975 21.5736L21.5737 19.3964C21.8105 19.1594 21.8471 18.7881 21.6611 18.5093L20.0248 16.0559C20.2278 15.6542 20.4008 15.2362 20.5421 14.8063L23.4349 14.2279C23.7634 14.1622 24 13.8736 24 13.5384V10.4615C24 10.1264 23.7634 9.83778 23.4348 9.77206ZM22.5938 12.9619L19.8531 13.51C19.5926 13.562 19.3837 13.7565 19.3131 14.0126C19.1454 14.6209 18.9037 15.2045 18.5947 15.7473C18.463 15.9784 18.4731 16.264 18.6208 16.4853L20.1713 18.8102L18.8108 20.1714L16.4851 18.62C16.2635 18.4721 15.9773 18.4622 15.7461 18.5944C15.2077 18.9021 14.6241 19.1442 14.0117 19.314C13.756 19.3848 13.562 19.5935 13.51 19.8536L12.962 22.5937H11.038L10.4901 19.8537C10.438 19.5935 10.244 19.3848 9.98836 19.314C9.37599 19.1443 8.79239 18.9022 8.25398 18.5945C8.02261 18.4623 7.73653 18.4722 7.51491 18.62L5.18925 20.1715L3.8287 18.8102L5.37928 16.4854C5.52689 16.2641 5.53697 15.9785 5.40539 15.7473C5.09639 15.2046 4.85466 14.6209 4.68698 14.0126C4.61634 13.7565 4.40747 13.5621 4.14698 13.51L1.40625 12.9619V11.038L4.14694 10.49C4.40742 10.4379 4.6163 10.2435 4.68694 9.9874C4.85461 9.37906 5.09634 8.79542 5.40534 8.25266C5.53697 8.02152 5.52689 7.73591 5.37923 7.51461L3.82866 5.1898L5.1892 3.82851L7.51486 5.37997C7.73648 5.52782 8.02266 5.53771 8.25394 5.40552C8.79234 5.09783 9.37594 4.85573 9.98831 4.68599C10.244 4.61516 10.438 4.40643 10.49 4.14632L11.0381 1.40625H12.9621L13.51 4.14627C13.5621 4.40643 13.7561 4.61512 14.0117 4.68594C14.6241 4.85568 15.2077 5.09774 15.7461 5.40547C15.9775 5.53766 16.2636 5.52777 16.4852 5.37993L18.8108 3.82846L20.1714 5.18976L18.6208 7.51456C18.4732 7.73581 18.4631 8.02147 18.5947 8.25261C18.9037 8.79537 19.1454 9.37901 19.3131 9.98736C19.3838 10.2434 19.5926 10.4379 19.8531 10.4899L22.5938 11.038V12.9619Z" fill="#1D1D35"/>
                </svg>
            </div>
        </div>
        <template v-if="selectedDialog">
            <hr class="separator"/>
            <MessagesContainer
            ></MessagesContainer>
        </template>
    </div>
</template>

<script>
    import BaseSquareIcon from '../../Base/BaseSquareIcon'
    import MessagesContainer from '../../MessagesContainer/messages-container.vue'
    import { useMessages } from "../../../composition/useMessages";
    import { useDialogs } from "../../../composition/useDialogs";
    export default {
        components: { BaseSquareIcon, MessagesContainer },
        setup() {
            const { messages } = useMessages();


            const { selectedDialog } = useDialogs()

            return {
                messages,
                selectedDialog,
            }
        }
    }
</script>

<style lang="scss" src="./messenger-content-personal-messages.scss"></style>